@page "/Dashboard"
@inject HttpClient Http
@using Client.Shared

<PageTitle>Weather forecast</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Weather forecast</MudText>

@if (forecasts == null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true"/>
}
else
{
    <MudGrid Spacing="5" Justify="Justify.Center" Class="ma-5">
        <MudItem Class="mud-elevation-1 rounded" xs="8">

            <MudChart ChartType="ChartType.Line" ChartSeries="@Series" @bind-SelectedIndex="Index" XAxisLabels="@XAxisLabels" Width="100%" Height="350px" ChartOptions="chartOptions"></MudChart>

        </MudItem>
        <MudItem xs="4">
            <MudGrid>
                <MudItem xs="12" lg="6" >
                    <MudCard>
                        <MudCardContent Class="d-flex justify-center">
                            <MudText Typo="Typo.h3" Color="Color.Info">13°C</MudText>
                        </MudCardContent>
                        <MudCardActions Class="d-flex justify-space-around">
                            <MudIconButton Icon="@Icons.Material.Filled.Share" aria-label="share"/>
                            <MudIconButton Icon="@Icons.Material.Filled.Info" aria-label="share"/>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" lg="6">
                    <MudCard>
                        <MudCardContent Class="d-flex justify-center">
                            <MudIcon Icon="@Icons.Material.Filled.Cloud" Size="Size.Large"/>
                        </MudCardContent>
                        <MudCardActions Class="d-flex justify-space-around">
                            <MudIconButton Icon="@Icons.Material.Filled.Share" aria-label="share"/>
                            <MudIconButton Icon="@Icons.Material.Filled.Info" aria-label="share"/>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            </MudGrid>

        </MudItem>
        <MudItem Class="ma-5">
            <MudTable Items="forecasts" Hover="true" SortLabel="Sort By" Elevation="0">
                <HeaderContent>
                    <MudTh>
                        <MudTableSortLabel InitialDirection="SortDirection.Ascending" SortBy="new Func<WeatherForecast, object>(x => x.Date)">Date</MudTableSortLabel>
                    </MudTh>
                    <MudTh>
                        <MudTableSortLabel SortBy="new Func<WeatherForecast, object>(x => x.TemperatureC)">Temp. (C)</MudTableSortLabel>
                    </MudTh>
                    <MudTh>
                        <MudTableSortLabel SortBy="new Func<WeatherForecast, object>(x => x.Weather)">Temp. (F)</MudTableSortLabel>
                    </MudTh>
                    <MudTh>
                        <MudTableSortLabel SortBy="new Func<WeatherForecast, object>(x => x.Summary!)">Summary</MudTableSortLabel>
                    </MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="Date">@context.Date</MudTd>
                    <MudTd DataLabel="Temp. (C)">@context.TemperatureC</MudTd>
                    <MudTd DataLabel="Weather">@context.Weather</MudTd>
                    <MudTd DataLabel="Summary">@context.Summary</MudTd>
                </RowTemplate>
                <PagerContent>
                    <MudTablePager PageSizeOptions="new int[] { 50, 100 }"/>
                </PagerContent>
            </MudTable>
        </MudItem>
    </MudGrid>
}


@code {
    private WeatherForecast[]? forecasts;

    protected override async Task OnInitializedAsync()
    {
        forecasts = await Http.GetFromJsonAsync<WeatherForecast[]>("sample-data/weather.json");
    }

    public class WeatherForecast
    {
        public DateTime Date { get; set; }

        public int TemperatureC { get; set; }

        public string? Summary { get; set; }

        public int Weather => 32 + (int)(TemperatureC / 0.5556);
    }

    private int Index = -1; //default value cannot be 0 -> first selectedindex is 0.

    public ChartOptions chartOptions = new ChartOptions();

    public List<ChartSeries> Series = new List<ChartSeries>()
    {
        new ChartSeries()
        {
            Name = "Temperature", Data = new double[]
            {
                11.7,
                10.8,
                10.6,
                9.8,
                8.9,
                10.5,
                12.8,
                15.4,
                17.6,
                18.0,
                18.8,
                19.4,
                19.2,
                19.9,
                17.4,
                15.9,
                16.3,
                16.9,
                16.3,
                15.1,
                14.2,
                14.0,
                13.0,
                12.7,
                12.3,
                11.8,
                11.1,
                10.3,
                9.6,
                9.8,
                10.5,
                11.8,
                12.4,
                13.7,
                13.7,
                14.5,
                15.0,
                16.1,
                17.1,
                17.2,
                16.8,
                15.6,
                14.2,
                12.6,
                11.2,
                9.9,
                8.8,
                8.1,
                7.5,
                7.0,
                6.7,
                6.3,
                6.0,
                6.8,
                8.2,
                9.7,
                10.5,
                11.5,
                12.4,
                13.4,
                13.9,
                14.5,
                14.7,
                14.7,
                14.4,
                13.9,
                13.3,
                12.4,
                11.1,
                9.8,
                8.6,
                7.7,
                7.0,
                6.5,
                5.9,
                5.4,
                5.2,
                6.1,
                7.7,
                9.6,
                11.4,
                12.8,
                13.8,
                14.6,
                15.4,
                16.0,
                16.3,
                16.4,
                16.2,
                15.9,
                15.4,
                14.6,
                13.6,
                12.3,
                11.7,
                11.1,
                10.5,
                9.9,
                9.4,
                9.1,
                9.4,
                9.9,
                11.0,
                12.2,
                13.6,
                15.2,
                15.8,
                16.0,
                16.3,
                16.5,
                16.6,
                16.6,
                16.5,
                16.3,
                15.7,
                14.9,
                14.0,
                12.9,
                12.3,
                11.7,
                11.1,
                10.4,
                9.8,
                9.4,
                9.9,
                10.7,
                12.2,
                13.8,
                15.6,
                17.6,
                18.3,
                18.7,
                19.0,
                19.7,
                19.7,
                19.5,
                19.3,
                19.1,
                18.4,
                17.2,
                15.6,
                13.7,
                12.8,
                12.1,
                11.3,
                10.4,
                9.6,
                9.1,
                9.4,
                10.2,
                11.8,
                13.5,
                15.6,
                17.9,
                18.6,
                18.9,
                19.1,
                19.4,
                19.8,
                20.0,
                19.8,
                19.5,
                18.7,
                17.9,
                17.0,
                15.7,
                14.8,
                14.0,
                13.0,
                12.5,
                12.1,
                12.0,
                12.4,
                13.1,
                14.3,
                15.5,
                17.0,
                18.6,
                19.5,
                20.3,
                21.0,
                21.3,
                21.4,
                21.3,
                20.9,
                20.4,
                19.4,
                18.3,
                17.0,
                15.5,
                14.6,
                14.0,
                13.4,
                15.5,
                14.8,
                14.4,
                14.8,
                15.5,
                16.8,
                18.2,
                19.8,
                21.8,
                23.0,
                24.0,
                25.0,
                25.4,
                25.6,
                25.3,
                24.7,
                23.7,
                22.2,
                21.0,
                19.7,
                18.2,
                17.4,
                16.8,
                16.0,
                15.4,
                14.8,
                14.5,
                15.0,
                16.0,
                17.5,
                19.0,
                20.7,
                22.6,
                23.7,
                24.5,
                25.2,
                25.6,
                25.8,
                25.5,
                24.8,
                23.6,
                22.1,
                21.1,
                20.1,
                18.9,
                18.3,
                17.9,
                17.1,
                16.1,
                15.0,
                14.2,
                14.8,
                15.9,
                17.7,
                19.2,
                20.9,
                22.6,
                23.1,
                23.1,
                22.9,
                22.9,
                22.7,
                22.4,
                22.1,
                21.6,
                20.8,
                19.9,
                18.8,
                17.5,
                17.0,
                16.6,
                15.9,
                15.0,
                13.8,
                12.5,
                12.0,
                11.8,
                11.5,
                11.3,
                11.1,
                11.2,
                11.9,
                13.0,
                14.1,
                14.5,
                14.6,
                14.6,
                14.8,
                15.0,
                14.9,
                14.5,
                13.9,
                12.8,
                11.6,
                10.1,
                8.4,
                7.4,
                6.5,
                6.1,
                6.6,
                7.7,
                9.3,
                10.6,
                11.9,
                13.5,
                14.4,
                15.0,
                15.7,
                16.3,
                16.7,
                17.0,
                17.0,
                16.7,
                16.0,
                15.0,
                13.8,
                12.2,
                11.4,
                10.6,
                9.8,
                9.2,
                8.6,
                8.4,
                9.0,
                10.1,
                11.7,
                13.0,
                14.5,
                16.3,
                17.6,
                18.8,
                20.1,
                20.8,
                21.2,
                21.3,
                21.1,
                20.5,
                19.4,
                18.2,
                16.8,
                15.1,
                14.2,
                13.6,
                12.8,
                12.3,
                11.8,
                11.8,
                12.7,
                14.0,
                16.0,
                17.6,
                19.4,
                21.5,
                22.8,
                23.9,
                24.9,
                25.4,
                25.6,
                25.4,
                24.8,
                23.9,
                22.4,
                21.2,
                19.8,
                18.2,
                17.5,
                16.9,
                16.3,
                15.7,
                15.0,
                14.8,
                15.5,
                16.7,
                18.5,
                20.1,
                21.9,
                24.0,
                25.4,
                26.6,
                27.7,
                28.2,
                28.3,
                27.3,
                25.0,
                21.7,
                17.8,
                16.1,
                14.8,
                13.5,
                12.8,
                12.4
            }
        }
    };

    public string[] XAxisLabels =
    {
        "2023-05-15T00:00",
        "2023-05-15T01:00",
        "2023-05-15T02:00",
        "2023-05-15T03:00",
        "2023-05-15T04:00",
        "2023-05-15T05:00",
        "2023-05-15T06:00",
        "2023-05-15T07:00",
        "2023-05-15T08:00",
        "2023-05-15T09:00",
        "2023-05-15T10:00",
        "2023-05-15T11:00",
        "2023-05-15T12:00",
        "2023-05-15T13:00",
        "2023-05-15T14:00",
        "2023-05-15T15:00",
        "2023-05-15T16:00",
        "2023-05-15T17:00",
        "2023-05-15T18:00",
        "2023-05-15T19:00",
        "2023-05-15T20:00",
        "2023-05-15T21:00",
        "2023-05-15T22:00",
        "2023-05-15T23:00",
        "2023-05-16T00:00",
        "2023-05-16T01:00",
        "2023-05-16T02:00",
        "2023-05-16T03:00",
        "2023-05-16T04:00",
        "2023-05-16T05:00",
        "2023-05-16T06:00",
        "2023-05-16T07:00",
        "2023-05-16T08:00",
        "2023-05-16T09:00",
        "2023-05-16T10:00",
        "2023-05-16T11:00",
        "2023-05-16T12:00",
        "2023-05-16T13:00",
        "2023-05-16T14:00",
        "2023-05-16T15:00",
        "2023-05-16T16:00",
        "2023-05-16T17:00",
        "2023-05-16T18:00",
        "2023-05-16T19:00",
        "2023-05-16T20:00",
        "2023-05-16T21:00",
        "2023-05-16T22:00",
        "2023-05-16T23:00",
        "2023-05-17T00:00",
        "2023-05-17T01:00",
        "2023-05-17T02:00",
        "2023-05-17T03:00",
        "2023-05-17T04:00",
        "2023-05-17T05:00",
        "2023-05-17T06:00",
        "2023-05-17T07:00",
        "2023-05-17T08:00",
        "2023-05-17T09:00",
        "2023-05-17T10:00",
        "2023-05-17T11:00",
        "2023-05-17T12:00",
        "2023-05-17T13:00",
        "2023-05-17T14:00",
        "2023-05-17T15:00",
        "2023-05-17T16:00",
        "2023-05-17T17:00",
        "2023-05-17T18:00",
        "2023-05-17T19:00",
        "2023-05-17T20:00",
        "2023-05-17T21:00",
        "2023-05-17T22:00",
        "2023-05-17T23:00",
        "2023-05-18T00:00",
        "2023-05-18T01:00",
        "2023-05-18T02:00",
        "2023-05-18T03:00",
        "2023-05-18T04:00",
        "2023-05-18T05:00",
        "2023-05-18T06:00",
        "2023-05-18T07:00",
        "2023-05-18T08:00",
        "2023-05-18T09:00",
        "2023-05-18T10:00",
        "2023-05-18T11:00",
        "2023-05-18T12:00",
        "2023-05-18T13:00",
        "2023-05-18T14:00",
        "2023-05-18T15:00",
        "2023-05-18T16:00",
        "2023-05-18T17:00",
        "2023-05-18T18:00",
        "2023-05-18T19:00",
        "2023-05-18T20:00",
        "2023-05-18T21:00",
        "2023-05-18T22:00",
        "2023-05-18T23:00",
        "2023-05-19T00:00",
        "2023-05-19T01:00",
        "2023-05-19T02:00",
        "2023-05-19T03:00",
        "2023-05-19T04:00",
        "2023-05-19T05:00",
        "2023-05-19T06:00",
        "2023-05-19T07:00",
        "2023-05-19T08:00",
        "2023-05-19T09:00",
        "2023-05-19T10:00",
        "2023-05-19T11:00",
        "2023-05-19T12:00",
        "2023-05-19T13:00",
        "2023-05-19T14:00",
        "2023-05-19T15:00",
        "2023-05-19T16:00",
        "2023-05-19T17:00",
        "2023-05-19T18:00",
        "2023-05-19T19:00",
        "2023-05-19T20:00",
        "2023-05-19T21:00",
        "2023-05-19T22:00",
        "2023-05-19T23:00",
        "2023-05-20T00:00",
        "2023-05-20T01:00",
        "2023-05-20T02:00",
        "2023-05-20T03:00",
        "2023-05-20T04:00",
        "2023-05-20T05:00",
        "2023-05-20T06:00",
        "2023-05-20T07:00",
        "2023-05-20T08:00",
        "2023-05-20T09:00",
        "2023-05-20T10:00",
        "2023-05-20T11:00",
        "2023-05-20T12:00",
        "2023-05-20T13:00",
        "2023-05-20T14:00",
        "2023-05-20T15:00",
        "2023-05-20T16:00",
        "2023-05-20T17:00",
        "2023-05-20T18:00",
        "2023-05-20T19:00",
        "2023-05-20T20:00",
        "2023-05-20T21:00",
        "2023-05-20T22:00",
        "2023-05-20T23:00",
        "2023-05-21T00:00",
        "2023-05-21T01:00",
        "2023-05-21T02:00",
        "2023-05-21T03:00",
        "2023-05-21T04:00",
        "2023-05-21T05:00",
        "2023-05-21T06:00",
        "2023-05-21T07:00",
        "2023-05-21T08:00",
        "2023-05-21T09:00",
        "2023-05-21T10:00",
        "2023-05-21T11:00",
        "2023-05-21T12:00",
        "2023-05-21T13:00",
        "2023-05-21T14:00",
        "2023-05-21T15:00",
        "2023-05-21T16:00",
        "2023-05-21T17:00",
        "2023-05-21T18:00",
        "2023-05-21T19:00",
        "2023-05-21T20:00",
        "2023-05-21T21:00",
        "2023-05-21T22:00",
        "2023-05-21T23:00",
        "2023-05-22T00:00",
        "2023-05-22T01:00",
        "2023-05-22T02:00",
        "2023-05-22T03:00",
        "2023-05-22T04:00",
        "2023-05-22T05:00",
        "2023-05-22T06:00",
        "2023-05-22T07:00",
        "2023-05-22T08:00",
        "2023-05-22T09:00",
        "2023-05-22T10:00",
        "2023-05-22T11:00",
        "2023-05-22T12:00",
        "2023-05-22T13:00",
        "2023-05-22T14:00",
        "2023-05-22T15:00",
        "2023-05-22T16:00",
        "2023-05-22T17:00",
        "2023-05-22T18:00",
        "2023-05-22T19:00",
        "2023-05-22T20:00",
        "2023-05-22T21:00",
        "2023-05-22T22:00",
        "2023-05-22T23:00",
        "2023-05-23T00:00",
        "2023-05-23T01:00",
        "2023-05-23T02:00",
        "2023-05-23T03:00",
        "2023-05-23T04:00",
        "2023-05-23T05:00",
        "2023-05-23T06:00",
        "2023-05-23T07:00",
        "2023-05-23T08:00",
        "2023-05-23T09:00",
        "2023-05-23T10:00",
        "2023-05-23T11:00",
        "2023-05-23T12:00",
        "2023-05-23T13:00",
        "2023-05-23T14:00",
        "2023-05-23T15:00",
        "2023-05-23T16:00",
        "2023-05-23T17:00",
        "2023-05-23T18:00",
        "2023-05-23T19:00",
        "2023-05-23T20:00",
        "2023-05-23T21:00",
        "2023-05-23T22:00",
        "2023-05-23T23:00",
        "2023-05-24T00:00",
        "2023-05-24T01:00",
        "2023-05-24T02:00",
        "2023-05-24T03:00",
        "2023-05-24T04:00",
        "2023-05-24T05:00",
        "2023-05-24T06:00",
        "2023-05-24T07:00",
        "2023-05-24T08:00",
        "2023-05-24T09:00",
        "2023-05-24T10:00",
        "2023-05-24T11:00",
        "2023-05-24T12:00",
        "2023-05-24T13:00",
        "2023-05-24T14:00",
        "2023-05-24T15:00",
        "2023-05-24T16:00",
        "2023-05-24T17:00",
        "2023-05-24T18:00",
        "2023-05-24T19:00",
        "2023-05-24T20:00",
        "2023-05-24T21:00",
        "2023-05-24T22:00",
        "2023-05-24T23:00",
        "2023-05-25T00:00",
        "2023-05-25T01:00",
        "2023-05-25T02:00",
        "2023-05-25T03:00",
        "2023-05-25T04:00",
        "2023-05-25T05:00",
        "2023-05-25T06:00",
        "2023-05-25T07:00",
        "2023-05-25T08:00",
        "2023-05-25T09:00",
        "2023-05-25T10:00",
        "2023-05-25T11:00",
        "2023-05-25T12:00",
        "2023-05-25T13:00",
        "2023-05-25T14:00",
        "2023-05-25T15:00",
        "2023-05-25T16:00",
        "2023-05-25T17:00",
        "2023-05-25T18:00",
        "2023-05-25T19:00",
        "2023-05-25T20:00",
        "2023-05-25T21:00",
        "2023-05-25T22:00",
        "2023-05-25T23:00",
        "2023-05-26T00:00",
        "2023-05-26T01:00",
        "2023-05-26T02:00",
        "2023-05-26T03:00",
        "2023-05-26T04:00",
        "2023-05-26T05:00",
        "2023-05-26T06:00",
        "2023-05-26T07:00",
        "2023-05-26T08:00",
        "2023-05-26T09:00",
        "2023-05-26T10:00",
        "2023-05-26T11:00",
        "2023-05-26T12:00",
        "2023-05-26T13:00",
        "2023-05-26T14:00",
        "2023-05-26T15:00",
        "2023-05-26T16:00",
        "2023-05-26T17:00",
        "2023-05-26T18:00",
        "2023-05-26T19:00",
        "2023-05-26T20:00",
        "2023-05-26T21:00",
        "2023-05-26T22:00",
        "2023-05-26T23:00",
        "2023-05-27T00:00",
        "2023-05-27T01:00",
        "2023-05-27T02:00",
        "2023-05-27T03:00",
        "2023-05-27T04:00",
        "2023-05-27T05:00",
        "2023-05-27T06:00",
        "2023-05-27T07:00",
        "2023-05-27T08:00",
        "2023-05-27T09:00",
        "2023-05-27T10:00",
        "2023-05-27T11:00",
        "2023-05-27T12:00",
        "2023-05-27T13:00",
        "2023-05-27T14:00",
        "2023-05-27T15:00",
        "2023-05-27T16:00",
        "2023-05-27T17:00",
        "2023-05-27T18:00",
        "2023-05-27T19:00",
        "2023-05-27T20:00",
        "2023-05-27T21:00",
        "2023-05-27T22:00",
        "2023-05-27T23:00",
        "2023-05-28T00:00",
        "2023-05-28T01:00",
        "2023-05-28T02:00",
        "2023-05-28T03:00",
        "2023-05-28T04:00",
        "2023-05-28T05:00",
        "2023-05-28T06:00",
        "2023-05-28T07:00",
        "2023-05-28T08:00",
        "2023-05-28T09:00",
        "2023-05-28T10:00",
        "2023-05-28T11:00",
        "2023-05-28T12:00",
        "2023-05-28T13:00",
        "2023-05-28T14:00",
        "2023-05-28T15:00",
        "2023-05-28T16:00",
        "2023-05-28T17:00",
        "2023-05-28T18:00",
        "2023-05-28T19:00",
        "2023-05-28T20:00",
        "2023-05-28T21:00",
        "2023-05-28T22:00",
        "2023-05-28T23:00",
        "2023-05-29T00:00",
        "2023-05-29T01:00",
        "2023-05-29T02:00",
        "2023-05-29T03:00",
        "2023-05-29T04:00",
        "2023-05-29T05:00",
        "2023-05-29T06:00",
        "2023-05-29T07:00",
        "2023-05-29T08:00",
        "2023-05-29T09:00",
        "2023-05-29T10:00",
        "2023-05-29T11:00",
        "2023-05-29T12:00",
        "2023-05-29T13:00",
        "2023-05-29T14:00",
        "2023-05-29T15:00",
        "2023-05-29T16:00",
        "2023-05-29T17:00",
        "2023-05-29T18:00",
        "2023-05-29T19:00",
        "2023-05-29T20:00",
        "2023-05-29T21:00",
        "2023-05-29T22:00",
        "2023-05-29T23:00",
        "2023-05-30T00:00",
        "2023-05-30T01:00",
        "2023-05-30T02:00",
        "2023-05-30T03:00",
        "2023-05-30T04:00",
        "2023-05-30T05:00",
        "2023-05-30T06:00",
        "2023-05-30T07:00",
        "2023-05-30T08:00",
        "2023-05-30T09:00",
        "2023-05-30T10:00",
        "2023-05-30T11:00",
        "2023-05-30T12:00",
        "2023-05-30T13:00",
        "2023-05-30T14:00",
        "2023-05-30T15:00",
        "2023-05-30T16:00",
        "2023-05-30T17:00",
        "2023-05-30T18:00",
        "2023-05-30T19:00",
        "2023-05-30T20:00",
        "2023-05-30T21:00",
        "2023-05-30T22:00",
        "2023-05-30T23:00"
    };


}